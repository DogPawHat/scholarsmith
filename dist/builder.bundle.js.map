{"version":3,"sources":["webpack:///webpack/bootstrap a6d55220a2aabf2d1a6e","webpack:///build.ts","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///Body.tsx","webpack:///./~/react/react.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;ACrC6C;;;;AACnB;;;;AACQ;;;;AACqC;;AAC5C;;AAEgB;;;;;;;;AAE3C,yBAA+B;AACrB,iCAAqB,SAAO,OAAC,UAAc;AACvC,gBAAS,kBAAK,gBAAQ,SAAQ,OACxC;AACJ,MAHsB;AAGrB;AAED;AACI,SAAa,YAAM;AACf,sBAAY,YACA,sBAA6B,6BAAW,YACpD,UAAsB;AACf,aAAK,OAAc;AACb,mBAAK,KAClB;AACF;AAEI,sBAAc,IAAC,UAAE,GAAG;AAAO,WAAM,QAAK,EAAO,OAAI;AAC3D,MADoB;AACnB;AAED;AACI,SAAS,QAAuB;AAClB,oBAAqB,qBAAI,IAAC,UAAI,KAAG,GAAM;AAEjD,aAAc,aAAe,sBACrB,gBACU,YACF,UACL,KAEV,gBAAY;AAEb,aAAc,aAAO,iBAAS,SAAa;AACtC,eAAK;AACF,mBAAe;AACX,uBAAG;AACN,oBAAY,WAClB;AAJ4B;;;;;;AAM1B,kCAAuB,qBAAK,gBACnB,YAAU,UACrB;AAAE,qBAFQ;;AAGN,qBAAK,SAAmB,eAAE;AACzB,yBAAc,aAAoB,0BAAU,UAC5B,sBAAK,gBACH,YACF,UACL,KAGT;AACQ,gCAAS,WAAK;AACnB,2BAAK,KACd;AACJ;AACJ;;;;;;;;;;;;;;;AAAG;AACG,YACV;AAAC;AAED;;;AAEI,SAAW;AACF,gBAAU;AACV,gBAAsB,mBACvB,wCACA,yCAEN;AANyB;AAQd,4BAAoB,qBAAM,KAAU,UAAW;AAC5D,SAAa,YAAiB,iBAAqB,qBAAK,oBAAW;AACtD,4BAAoB,qBACrC;AAAC;AAEO,S;;;;;;;;;AClFR,gC;;;;;;;;;ACAA,kC;;;;;;;;;;;;;;;6BCa2C;AAChC;AACE;WAAK,MACN;AAAA,uCAAK,QAAO,OAAM,MAClB;AACI;;;AAAI,oDAAG,IACP;AAAO,uDAAI,KAI3B;;;AAAC;;AAvBwB;;;;;;AAGzB,eAAsC;AAC3B;AAEC;;AAAK,iDAAQ,SACb;AAAO;;;AAAO,mBACd;;AAAK,iDAAI,KAAa,cAAK,MAGvC;;AAEA,E;;;;;;;;;ACbA;;AAEA","file":"builder.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a6d55220a2aabf2d1a6e\n **/","import React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport yaml from 'js-yaml';\r\nimport fm from 'yaml-front-matter';\r\nimport { readdirSync, statSync, readFileSync, writeFileSync } from 'fs';\r\nimport { join } from 'path';\r\nimport { ContextData, AnyPageData, PageData, TopicPageData, TopicTitlePageData, BasicPageData, QuestionPageData, PageTypes} from '../templates/types';\r\nimport Body from '../templates/server/Body';\r\n\r\nfunction getDirectories(srcpath) {\r\n    return readdirSync(srcpath).filter(function (file) {\r\n        return statSync(join(srcpath, file)).isDirectory();\r\n    });\r\n}\r\n\r\nfunction parseQuestions(): QuestionPageData[] {\r\n    let questions = [];\r\n    yaml.safeLoadAll(\r\n        readFileSync('./tutorial/questions.yaml').toString(),\r\n        (doc: QuestionPageData) => {\r\n            doc.type = 'question';\r\n            questions.push(doc);\r\n        }\r\n    );\r\n\r\n    return questions.map((q, i) => {q.index = i; return q; });\r\n}\r\n\r\nfunction parseTopics(): TopicPageData[] {\r\n    let pages: TopicPageData[] = [];\r\n    getDirectories('./tutorial/topics').map((dir, i, dirs) => {\r\n\r\n        let configFile = readFileSync(\r\n            join(\r\n                'tutorial',\r\n                'topics',\r\n                dir,\r\n                'config.yaml')\r\n        ).toString();\r\n\r\n        let configYaml = yaml.safeLoad(configFile);\r\n        pages.push(<TopicTitlePageData>{\r\n            type: 'topic_title',\r\n            topic_id: i,\r\n            title: configYaml.title\r\n        });\r\n\r\n        for (let file of readdirSync(join(\r\n            'tutorial', 'topics', dir\r\n        ))) {\r\n            if (file !== 'config.yaml') {\r\n                let contentObj: BasicPageData = fm.loadFront(\r\n                    readFileSync(join(\r\n                        'tutorial',\r\n                        'topics',\r\n                        dir,\r\n                        file\r\n                    ))\r\n                );\r\n                contentObj.topic_id = i;\r\n                pages.push(contentObj);\r\n            }\r\n        }\r\n    });\r\n    return pages;\r\n}\r\n\r\nfunction build() {\r\n\r\n    let context: ContextData = {\r\n        title: 'Hello!',\r\n        pages: Array<AnyPageData>().concat(\r\n            ...parseTopics(),\r\n            ...parseQuestions()\r\n        )\r\n    };\r\n\r\n    writeFileSync('./dist/props.json', JSON.stringify(context));\r\n    let indexHtml = ReactDOMServer.renderToStaticMarkup(Body(context));\r\n    writeFileSync('./dist/index.html', indexHtml);\r\n}\r\n\r\nbuild();\r\n\n\n\n/** WEBPACK FOOTER **\n ** build.ts\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 2\n ** module chunks = 0\n **/","import React from 'react';\r\nimport {ContextData} from '../types';\r\n\r\nfunction Head(props: { title: string }) {\r\n    return (\r\n        <head>\r\n            <meta charSet='utf-8'/>\r\n            <title>{ props.title }</title>\r\n            <link rel='stylesheet' href='styles.css' />\r\n        </head>\r\n    );\r\n}\r\n\r\nexport default function (props: ContextData) {\r\n    return (\r\n        <html lang='en'>\r\n            <Head title={props.title} />\r\n            <body>\r\n                <div id='root'></div>\r\n                <script src='client.bundle.js' />\r\n            </body>\r\n        </html>\r\n    );\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** Body.tsx\n **/","'use strict';\n\nmodule.exports = require('./lib/React');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/react.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}